# 숫자 야구 게임 구현 계획 - 우아한 테크 캠프 Pro 프리코스

## 구현할 기능 목록

구현 기능 목록은 아래 문제 정의와 설계를 진행한 후 작성하였습니다.

- [ ] DefensePlayer: 임의 숫자 3자리를 준비하는 함수를 구현하기
- [ ] DefensePlayer: 입력 숫자와 자신 숫자를 비교하여 결과를 판정하는 함수를 구현하기
- [ ] DefensePlayer: 판정한 볼, 스트라이크 개수를 반환하는 함수를 구현하기
- [ ] GameView: 화면에 출력하는 모든 메시지 함수를 구현하기
- [ ] GameView: 숫자 3자리를 입력 받는 함수와 입력 숫자 유효성을 검사하는 함수를 구현하기
- [ ] GameView: 메뉴 입력을 받는 함수 구현하기
- [ ] GameController: DefensePlayer 와 GameView 에 호출을 전달하는 함수를 구현하기
- [ ] GameController: 빈 값을 반환하는 함수를 구현하기
- [ ] GameState: interface 를 선언하기
- [ ] GameBoard: 게임을 실행하는 함수를 구현하기
- [ ] GameBoard: 게임 상태를 읽고 저장하는 함수를 구현하기
- [ ] 모든 States: 각 State 마다 필요한 동작을 정의하고 구체화하기
- [ ] GameBoard: 모든 게임 상태 객체를 생성하는 함수를 구현하기
- [ ] Application: 게임에서 필요한 모든 객체를 생성하고 게임을 실행하는 세부 내용을 작성하기

<br>

## 문제 정의

1부터 9까지 서로 다른 수로 만든 3자리 수를 수비 플레이어가 준비하고 공격 플레이어가 Console 에서 3자리 숫자를 입력하여 수비 플레이어의 숫자와 순서를 정확하게 맞추는 게임을 구현합니다.

<br>

## 요구사항 정리

### 기능 요구사항

수비 플레이어인 컴퓨터는 1부터 9까지 서로 다른 수를 임의로 선택하여 3자리 숫자를 구성해야 한다.

공격 플레이어는 Console 에서 숫자 3개를 입력할 수 있어야 한다.

공격 플레이어가 상대방이 만든 숫자 3개를 숫자값과 순서까지 동일하게 맞추면 게임을 종료해야 한다.

공격 플레이어가 잘못된 값을 입력하면 IllegalArgumentException 을 발생하고 애플리케이션을 종료해야 한다.

공격 플레이어가 숫자를 못 맞추면 맞출때까지 반복해야 한다.

공경 게임 플레이어가 숫자를 맞추면 새로운 게임을 다시 할 지 게임을 종료할 지 선택할 수 있어야 한다.

숫자 판정 규칙은 아래와 같다.

* 스트라이크: 같은 수가 같은 자리에 있는 경우를 말한다.
* 볼: 같은 수가 다른 자리에 있는 경우를 말한다.
* 낫싱: 같은 수가 모두 없는 경우를 말한다.

### 비기능 요구사항

프로그램 시작점은 `src/main/java/` 폴더의 `baseball.Application`의 `main()` 이다.

JDK 8 버전에서 실행 가능해야 한다.

JDK 에서 제공하는 Random 과 Scanner API 를 사용하지 않고 `camp.nextstep.edu.missionutils` 패키지를 사용하여 구현해야 한다. 
* Random 값 추출은 `camp.nextstep.edu.missionutils.Randoms.pickNumberInRange()` 를 사용한다.
* 값 입력은 `camp.nextstep.edu.missionutils.Console.readLine()` 을 사용한다.

`src/test/java/baseball.ApplicationTest` 에서 정의한 Test Case 2개를 반드시 통과해야 한다.
* 필수는 아니지만 숫자 야구게임에 가능한 경우에 Test Case 를 만드는 건 좋은 테스트 연습이 될 수 있다.

우아한 테크 코스 Java 스타일을 맞춰서 코딩해야 한다.

들여쓰기는 1 단계만 가능하다. 2 단계 이상을 넘지 않도록 구현해야 한다.

Java 8 에서 제공하는 stream API 는 사용하지 않는다.

Java 8 에서 제공하는 람다는 사용할 수 있다.

`else` 예약어를 쓰지 않는다.

함수는 10라인을 넘지 않아야 한다.
* 함수는 한 가지 일만 하도록 구현한다.

도메인 로직에 단위 테스트를 구현해야 한다.
* UI(`System.out`, `System.in`, `Scanner`) 로직은 단위 테스트에서 제외한다.
* MVC 패턴으로 구현하고 View, Controller 요소를 제외한 Model 요소에 단위 테스트를 만드는 데 집중한다.

핵심 로직은 UI를 담당하는 로직과 분리해야 한다.

<br>

## 애플리케이션 설계

동작 단위에서 흐름도를 파악하여 전체 흐름을 우선 고민하였습니다.

흐름도를 보고 게임 상태와 만들 객체 힌트를 얻었습니다.  
얻은 힌트로 상태 다이어그램과 클래스 다이어그램을 작성하였습니다.

마지막으로 각 클래스의 동작을 파악하려고 시퀸스 다이어그램을 작성하였습니다. 

### 동작 흐름도

[서비스 흐름도](service_flow_diagram.md)에 작성하였습니다.

### 상태 다이어그램

[상태 다이어그램](state_diagram.md)에 작성하였습니다.

### 클래스 다이어그램

**객체 목록**

| 객체명            | 설명                                                       |
|----------------|----------------------------------------------------------|
| GameBoard      | 게임 Lifecycle 을 관리한다.                                     |
| GameState      | 게임에서 여러 상태를 일반화한 Interface 이다.                           |
| InitState, ... | 게임 상태마다 필요한 동작을 상세하게 정의한다.                               |
| GameController | GameBoard 에서 지시를 받아 화면 표시, 사용자 입력, 게임 플레이어 데이터 조작을 요청한다. |
| DefensePlayer  | 사용자가 맞춰야 할 3자리 숫자를 생성할 수 있고 사용자가 입력한 숫자와 비교하여 결과를 판정한다.  |

[클래스 다이어그램](class_diagram.md)을 참고해 주세요.

### 시퀸스 다이어그램

[시퀸스 다이어그램](sequence_diagram.md)을 참고해 주세요.
